<!DOCTYPE html>
<!-- Copyright © 2024, Brigham Young University–Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Crimson+Pro&display=swap">
    <link rel="stylesheet" href="../site/reset.css">
    <link rel="stylesheet" href="../site/style.css">
    <script defer src="../site/main.js"></script>
    <title>Deploy with Terraform</title>
    <link rel="icon" type="image/png" href="../site/logo.png">
    <link rel="canonical" href="https://byui-cloud.github.io/itm101-course/week12/day2.html">
    <meta name="description" content="Week 12 day 2 for the BYU-Idaho ITM 101 Introduction to Cloud Technologies course">
</head>
<body>
<article>
    <div class="day">Week 12 Day 2</div>
    <h1>Deploy with Terraform</h1>

    <h2>Overview</h2>
    <p>Terraform allows you to quickly deploy a Linux Server, an
    app, a database, a docker container, and more, all in one file.
    Using Terraform, you could have deployed many of the AWS
    components from previous weeks. Check out all the servers and
    apps you can deploy with Terraform:
    <a href="https://registry.terraform.io/">https://registry.terraform.io/</a></p>

    <h2>Business Requirements</h2>
    <ul>
        <li><div>If you didn’t finish deploying the Web-based AI Chat on
        AWS using Terraform, finish deploying it.</div></li>

        <li><div>Choose another server or 'app' from the
        <a href="https://registry.terraform.io/">Terraform registry</a>
        and use Terraform to deploy it.</div></li>
    </ul>

    <h2>Project Overview</h2>
    <p>Create <code>.tf</code> files and Linux shell scripts that deploy
    something cool.</p>

    <ul>
        <li><div>As a team review the
        <a href="mainawslinuxeastAI.tf">mainawslinuxeastAI.tf</a> file
        and discuss what it does.</div></li>

        <li><div>Create a Linux shell script that will automatically
        download the <code>mainawslinuxeastAI.tf</code> file and will
        run terraform using that file. Run the script in your AWS
        Cloudshell.</div></li>

        <li><div>Create and use another <code>.tf</code> file that
        deploys something cool. (Terraform scripts in the same
        Cloudshell can have some conflicts so you may need to change
        variable names, etc.)</div></li>

        <li><div>Add some Linux scripts to automate it. Use a generative
        AI as needed.</div></li>

        <li><div>Finished? Build something cool as a team. Submit your
        personal contribution.</div></li>
    </ul>

    <h2 id="learn-more">Learn More</h2>
    <ul class="long">
        <li><div>Look at all the servers and 'apps' you can deploy from
        the
        <a href="https://registry.terraform.io/">Terraform registry</a>.
        Find one and try it.</div></li>

        <li><div><p>Combine Terraform and docker. Install more things
        and do more with Terraform and docker together. You can install
        docker with a Terraform script. Put docker in a
        <code>user_data</code> section of a <code>.tf</code> file. Look
        at the <code>mainawslinuxeastAI.tf</code> file for an
        example.</p>

        <pre>sudo yum install -y docker</pre>

        <p>Look in the <a href="https://hub.docker.com/">docker hub</a>
        and find a docker container to install.<br>
        ex: <a href="https://hub.docker.com/r/langchain/langchain">https://hub.docker.com/r/langchain/langchain</a><br>
        cmd: sudo docker pull langchain/langchain</p>

<pre>sudo docker pull _________
sudo systemctl enable docker
sudo service docker start
sudo docker run --name myllm -d --restart unless-stopped langchain/langchain</pre>
        </div></li>

        <li><div>Automate things further with a linux script. Use
        generative AI as needed.</div></li>

        <li><div>Use RDP to connect to an EC2 instance.
        <ul>
            <li><div>Use the built-in remote desktop client on your
            Windows laptop or install remote desktop beta on your
            laptop.</div></li>

            <li><div><p>SSH into the server and set the password for the
            ec2-user and enable RDP:</p>
<pre>
sudo passwd ec2-user
sudo openssl req -x509 -sha384 -newkey rsa:4096 -nodes -subj "/C=US/ST=ID/L=Rexburg/O=B/CN=www.example.com" -keyout /etc/xrdp/key.pem -out /etc/xrdp/cert.pem -days 365
</pre>
            </div></li>
        </ul>
        </div></li>
    </ul>
</article>
</body>
</html>
