<!DOCTYPE html>
<!-- Copyright © 2024, Brigham Young University–Idaho. All rights reserved. -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITM 101 Final Project</title>
    <script defer src="../../site/main.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Source+Code+Pro&family=Poor+Story&display=swap">
    <link rel="stylesheet" href="../../site/reset.css">
    <link rel="stylesheet" href="../../site/style.css">
    <link rel="icon" type="image/png" href="../../site/logo.png">
    <link rel="canonical" href="https://byui-cloud.github.io/itm101-course/week13/min_max_inv/project.html">
    <meta name="description" content="An assignment that requires students to create a Firebase project with a Firestore database and deploy HTML, CSS, and JavaScript code to Google Hosting">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org/",
        "@type": "Article",
        "headline": "",
        "description": "An assignment that requires students to create a Firebase project with a Firestore database and deploy HTML, CSS, and JavaScript code to Google Hosting",
        "educationalUse": "assignment",
        "copyrightNotice": "Copyright © 2024, Brigham Young University–Idaho. All rights reserved.",
        "datePublished": "2024-04-12",
        "dateModified": "2024-12-09"
    }
    </script>
</head>

<body>
<article>
<h1>ITM 101 Final Project</h1>
<p class="subtitle">(Min-Max Inventory System)</p>
<p class="subtitle">Part 2</p>

<h2 id="scenario">Scenario</h2>
<p>The Min-Max Inventory System that you created and deployed last time
is using development security rules. This means that anyone can view,
edit, and delete the data in your Firestore database. Your boss has
asked you to change the Min-Max Inventory System so that it
authenticates users and only allows authenticated users with the correct
permissions to view, edit, and delete the data.</p>

<h2 id="steps">Steps</h2>
<p>Do the following:</p>
<ol class="long">
    <li><div>Use ChatGPT to learn about Google Firebase authentication
    and Firestore security rules. Start a new chat with ChatGPT, and
    give the following prompts to ChatGPT. Use ChatGPT as a learning
    assistant. Read it’s answers, and ask it other questions that will
    help you understand Firebase authentication and Firestore security
    rules.
    <ol>
        <li><div class="gpt">What is authentication?</div></li>

        <li><div class="gpt">Does Google Web Services include an
        authentication service?</div></li>

        <li><div class="gpt">How do I enable Google authentication for a
        Firebase project?</div></li>

        <li><div class="gpt">What is the purpose of Firestore security
        rules?</div></li>
    </ol></div></li>

    <li><div>Use the
    <a target="_blank" href="https://console.firebase.google.com/">Firebase Console</a>
    in your browser and open your min-max-inventory project.</div></li>

    <li><div>Still using the Firebase Console, enable Google
    authentication for your project by doing the following:
    <ol>
        <li><div>In the navigation frame on the left-hand side, expand
        the “Build” item.
        <li><div>Click “Authentication” in the navigation
        frame.</div></li>
        <li><div>Click the “Get started” button.</div></li>
        <li><div>Click the “Sign-in Method” tab near the top of your
        browser window.</div></li>
        <li><div>Click “Google” from the list of “Additional
        providers”.</div></li>
        <li><div>Click the “Enable” switch.</div></li>
        <li><div>Change the “Publich-facing name” for your project to
        “min-max-inventory”.</div></li>
        <li><div>Choose a support email from the drop-down list.</div></li>
        <li><div>Click the “Save” button.</div></li>
    </ol></div></li>

    <li><div>Using your browser, download the
    <a download href="firestore.rules">filestore.rules</a> file and save
    it into the the <code>min_max_inv</code> folder that you created
    last week.</div></li>

    <li><div>Using your browser, download the following two files and
    save them into the <code>min_max_inv/public</code> folder that the
    <code>firebase init hosting</code> command created last week.
    Downloading these two files will replace two files that you
    downloaded last week.
    <ol>
        <li><div><a download href="index.html">index.html</a></div></li>
        <li><div><a download href="min_max_inv.js">min_max_inv.js</a></div></li>
    </ol></div></li>

    <li><div>In the <code>min_max_inv.js</code> file that you downloaded
    in the previous step, replace the <code>firebaseConfig</code>
    dictionary at line&nbsp;99 with code from the Firebase
    Console.</div></li>

    <li><div>In VS Code, open a new terminal and
    execute the following command:
    <pre>firebase deploy --only "firestore,hosting"</pre>
    </div></li>

    <li><div>Look in the VS Code terminal below the
    <code>fireabase deploy</code> command for the URL where the command
    sent your files. The URL will be similar to this:
    <pre>https://min-max-inventory-DIGITS.web.app</pre></div></li>

    <li><div>Copy the URL from the VS Code terminal and open it in a new
    tab in your browser. Opening the URL in your browser should cause
    your browser to open a pop-up window and request sign in credentials
    from Google. If your browser blocks the pop-up window, click the
    pop-up blocked icon and enable pop-up windows for your Min-Max
    Inventory app and then reload your app in your browser.</div></li>

    <li><div>If you’re not already signed into your Google account, you
    must sign into one. After you sign in, your Min-Max Inventory app
    will display your name, email address, and application user ID at
    the top of the application window.</div></li>

    <li><div>Using the Firebase Console in your browser, add a new
    collection named “users” to your Firestore database.</div></li>

    <li><div>Still using the Firebase Console, add a document to the
    “users” collection. For the “Document ID” copy and paste your
    application user ID which will be at the top of your Min-Max
    Inventory app window. Add two fields named “email” and “enabled” to
    the document. The “enabled” field must by of type boolean as shown
    in the following screenshot:
    <img src="addDoc.png" style="width:100%"
    alt="Screenshot of a popup window to add a document to the users
    collection"
    title="Screenshot of a popup window to add a document to the users
    collection"></div></li>

    <li><div>Refresh (reload) your Min-Max Inventory system in your
    browser. All of the tabs (Suppliers, Products, Receiving, and
    Outgoing) should display data from your Firestore database. If any
    of the tabs don’t contain data, you may have created the user
    document incorrectly in the previous step.</div></li>

    <li><div>Using your browser, test your Min-Max Inventory system
    thoroughly by doing the following:
    <ol>
        <li><div>Look at each of the five tabs and verify that they all
        show the correct data from your Firestore database.</div></li>
        <li><div>In the Receiving tab, enter numbers in the text boxes,
        press the Submit button, and verify that the corresponding
        Current Quantities change as they should.</div></li>
        <li><div>In the Outgoing tab, enter numbers in the text boxes,
        press the Submit button, and verify that the corresponding
        Current Quantities change as they should.</div></li>
    </ol></div></li>

    <!--
    <li><div></div></li>
    <li><div></div></li>
    <li><div></div></li>

    <li><div>Using your browser in the Firebase console, enable
    authentication.</div></li>

    <li><div>If you’re curious, you could ask your teacher or ChatGPT
    what is the purpose of each of the files in a web app.</div></li>
    -->
</ol>

<h2 id="stretch">Stretch Challenges (Complete one for 5 points)</h2>
<p>You can learn about creating, writing, securing, testing, and
depolying applications in the Internet Cloud by doing any of the
following.</p>
<ol class="long">
    <li><div>Make it possible for some users to only read data in the
    Firestore database and for other users to read and write. You could
    do this by
    <ol>
        <li><div>Changing the structure of user documents in the
        Firestore database from
        <pre>{email: "pedro@example.com", enabled: true}</pre>
        to
        <pre>{email: "pedro@example.com", canRead: true, canWrite: false}</pre>
        </div></li>

        <li><div>Adding more users to your Firestore database, some with
        <code>canRead:true</code> and <code>canWrite:false</code> and
        others with both <code>canRead</code> and <code>canWrite</code>
        set to <code>true</code></div></li>

        <li><div>In the <code>firestore.rules</code> file, replacing the
        <code>userHasPermission</code> function with a function named
        <code>userCanRead</code> that checks the <code>canRead</code>
        document field and using the <code>userCanRead</code> function
        in <code>allow read</code> parts of the <code>match</code>
        rules.</div></li>

        <li><div>In the <code>firestore.rules</code> file, adding a
        <code>userCanWrite</code> function that checks the
        <code>canWrite</code> document field and using the
        <code>userCanWrite</code> function in the <code>allow
        write</code> parts of the <code>match</code> rules.</div></li>

        <li><div>Deploying your modified <code>firestore.rules</code> by
        executing this command in a VS Code terminal:
        <pre>firebase deploy --only "firestore,hosting"</pre></div></li>
    </ol></div></li>

    <li><div>Change your application’s favicon
    (<img src="../../week12/min_max_inv/favicon.svg" style="width:1.5em">)
    or the Min Max icon
    (<img src="../../week12/min_max_inv/minmax.svg" style="width:3em">).
    Ask ChatGPT the following:
    <ol>
        <li><div class="gpt">What is an svg file?</div></li>
        <li><div class="gpt">What are some free popular computer
        programs for creating svg files?</div></li>
        <li><div class="gpt">What size should a web application’s
        favicon be?</div></li>
    </ol>
    Then create some new icons and deploy them to your by executing this
    command in a VS Code terminal:
    <pre>firebase deploy --only "firestore,hosting"</pre></div></li>

    <li><div>Change the background color, font color, font family, or
    font size in your Min-Max Inventory app. This will require you to
    change and deploy your <code>min_max_inv.css</code> file. Ask
    ChatGPT the following:
    <ol>
        <li><div class="gpt">What is the purpose of a css file in a web
        application?</div></li>
        <li><div class="gpt">What is a selector in a css
        file?</div></li>
        <li><div class="gpt">Please teach me about simple css
        selectors.</div></li>
        <li><div class="gpt">What is a css variable and how do I create
        and use one in a css file?</div></li>
        <li><div class="gpt">Please write a css rule to change to
        backround color of the body of an HTML document.</div></li>
    </ol></div></li>

    <li><div>Add a tab to your application that lets a user view orders
    in a tab named “Orders” that is like the “Suppliers” tab. This will
    require you to add code to both the <code>index.html</code> and
    <code>min_max_inv.js</code> files. Examine your existing
    <code>index.html</code> file and find the HTML tags that create each
    tab and corresponding section. Add a new tab and section and test
    your changed <code>index.html</code> file. Alternatively, you could
    give ChatGPT the HTML code for the Suppliers tab and ask it to
    create code for an Orders tab that is similar to the Suppliers code.
    After you change and test your <code>index.html</code> file, add
    code to your  <code>min_max_inv.js</code> file for the “Orders”
    tab.</div></li>
</ol>
</article>
</body>
</html>
